---
title: Deployment Changes - Part 2
description: Move site behind Warp reverse proxy
author: Orion Jankowski
tags: warp, Haskell
---

##Why?
Initially, [pharmash](http://www.pharmash.com) was served using Apache and static file
generated by [Hakyll](http://jaspervdj.be/hakyll/).  About a year later, I moved it 
to a small [Node.js](http://nodejs.org/) application which still served static files,
but added a little bit of dynamic content for the purpose of demoing 
[OpenBabel bindings](http://www.pharmash.com/posts/2011-10-15-nodejs-obabel-bindings.html).

This was all fine and good, but now I want to host two domains from a single server, both on
port 80.  Time to set up a [reverse proxy](http://en.wikipedia.org/wiki/Reverse_proxy).  There
are lots of existing solutions to this, but I thought this would be a good opportunity to
learn one of the Haskell web frameworks and write a reverse proxy myself.


##How?
After a little poking around, I chose [Warp](https://github.com/yesodweb/wai) on purely
subjective grounds (There are a lot of interesting benchmarking claims out there for web servers
in general, with the inevitable discussions of their relevancy.  In my case,
speed is of almost zero importance, but flexibility is).  I _do_ hope to try the 
[other frameworks](http://www.haskell.org/haskellwiki/Web/Frameworks) later.

My primitive reverse proxy using Warp is [here](https://github.com/odj/WarpProxy).
It seems to be working so far.  If you're reading this from port 80, it still is!



